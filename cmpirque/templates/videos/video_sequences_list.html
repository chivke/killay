{% extends "base.html" %}
{% load i18n %}

{% block title %}
    {% trans "Video Sequences" %} ({{object.code}})
{% endblock title %}

{% block content %}
  <div id="video-admin-container" class="ui segment">
    <h1 class="ui dividing header">{% trans "Sequences" %}</h1>
    <div class="fields">
      <div class="field">
        <label>{% trans "Code" %}:</label> {{object.code}}
      </div>
      <div class="field">
        <label>{% trans "Title" %}:</label> {{object.meta.title}}
      </div>
    </div>
    <form class="ui form" method="post">
      {% csrf_token %}
      {{formset.management_form}}
      <input type="submit" class="ui button video-admin-submit" value="{% trans 'Save' %}">
      <table class="ui celled table">
        <thead>
          <tr id="video-sequences-head-fields">
            <th>{% trans "Order" %}</th>
            {% for form in formset %}
              {% if forloop.first %}
                {% for field in form.visible_fields %}
                  <th>{{field.label}}</th>
                {% endfor %}
              {% endif %}
            {% endfor %}
          </tr>
        </thead>
        <tbody id="video-sequences-tbody">
          {% for form in formset %}
            {% for hidden in form.hidden_fields %}
              {{ hidden }}
            {% endfor %}
            <tr>
              <td class="field">{{forloop.counter}}</td>
              {% for field in form.visible_fields %}
                <td class="field {% if field.errors %}error{% endif %}" data-label="{{field.help_text}}">

                  {% if field.name == "DELETE" %}
                    <div class="ui checkbox">
                      {{field}}
                    </div>
                  {% else %}
                    {{ field }}
                  {% endif %}
                  {% if field.errors %}
                    <div class="ui pointing red basic label">
                      {% for error in field.errors %}{{error}}{% endfor %}
                    </div>
                  {% endif %}
                </td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
      <input type="submit" class="ui button video-admin-submit" value="{% trans 'Save' %}">
    </form>
  </div>

{% endblock content %}


{% block extra_js %}
<script type="text/javascript">
  $('.ui.checkbox')
    .checkbox()
  ;
</script>
{% endblock extra_js %}
